[gd_scene load_steps=8 format=3 uid="uid://cn8aukk07oyhb"]

[ext_resource type="PackedScene" uid="uid://1wjrbjcnbgko" path="res://units/abstractmecha.tscn" id="1_ef823"]
[ext_resource type="Script" path="res://units/player.gd" id="2_h10lg"]
[ext_resource type="Material" uid="uid://c325nr17yckh7" path="res://assets/brigand.tres" id="3_41uu4"]
[ext_resource type="PackedScene" uid="uid://d1uk6jn2csrrf" path="res://units/guns/rifle.tscn" id="5_cnrfd"]
[ext_resource type="PackedScene" uid="uid://cwf0yusjxirk6" path="res://units/guns/shotgun.tscn" id="5_igan2"]
[ext_resource type="PackedScene" uid="uid://djh2i44nypisc" path="res://units/hud.tscn" id="6_c4622"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ynsq6"]
albedo_color = Color(1.81242e-07, 0.0916451, 0.0193875, 1)
metallic = 0.5
roughness = 0.6

[node name="Brigand" instance=ExtResource("1_ef823")]
script = ExtResource("2_h10lg")
MAX_HEALTH = 10
MAX_SHIELD = 10
show_body = false

[node name="Skeleton3D" parent="Root" index="0"]
bones/0/position = Vector3(0.000179803, -0.0460296, 1.3093)
bones/0/rotation = Quaternion(0.623149, -0.224347, -0.203382, 0.721103)
bones/2/rotation = Quaternion(0.266233, 0.0382786, -0.0157003, 0.963021)
bones/3/rotation = Quaternion(0.246358, 0.0499811, -0.00615986, 0.96787)
bones/4/rotation = Quaternion(0.0208388, 0.0226867, 0.00496237, 0.999513)
bones/5/rotation = Quaternion(-0.272957, 0.0916328, 0.0109438, 0.95759)
bones/9/rotation = Quaternion(-0.31952, -0.272476, 0.717695, -0.555498)
bones/10/rotation = Quaternion(0.347668, -0.194456, 0.620725, 0.675288)
bones/11/rotation = Quaternion(-0.180932, 0.0257937, 0.498684, 0.847297)
bones/12/rotation = Quaternion(-0.0652185, -0.904967, -0.279239, 0.314335)
bones/13/rotation = Quaternion(0.00556837, 0.777416, 0.286855, 0.559738)
bones/14/rotation = Quaternion(0.0542638, 0.156318, 0.0356577, 0.98557)
bones/19/rotation = Quaternion(0.330292, -0.0296325, -0.0175234, 0.943251)
bones/25/rotation = Quaternion(0.454535, -0.0327059, -0.0351774, 0.889433)
bones/26/rotation = Quaternion(0.533148, 2.03179e-05, -0.0824073, 0.841999)
bones/31/rotation = Quaternion(0.517832, -0.0428649, -0.0382655, 0.853551)
bones/37/rotation = Quaternion(0.605915, -0.0832656, 0.00168452, 0.791158)
bones/39/rotation = Quaternion(0.120319, -7.78438e-05, -0.0200183, 0.992534)
bones/44/rotation = Quaternion(0.10455, -0.117077, -0.730878, 0.664214)
bones/46/rotation = Quaternion(-0.0519589, 0.693556, 0.314278, 0.64615)
bones/47/rotation = Quaternion(0.062451, -0.750262, -0.396136, 0.525626)
bones/48/rotation = Quaternion(0.23726, -0.18533, 0.0238188, 0.953307)
bones/49/rotation = Quaternion(0.480158, -0.0174243, 0.100712, 0.871207)
bones/53/rotation = Quaternion(0.124696, 0.0231036, -0.0343765, 0.99133)
bones/59/rotation = Quaternion(0.442537, 0.00659368, 0.0604542, 0.894686)
bones/77/rotation = Quaternion(0.408118, 0.183808, 0.881798, -0.148618)
bones/78/rotation = Quaternion(-0.473261, 0.0426245, -0.0515402, 0.878379)
bones/79/rotation = Quaternion(0.81331, -0.0447007, -0.0256954, 0.579542)
bones/84/rotation = Quaternion(-0.0513425, 0.0632667, 0.992376, 0.0924729)
bones/85/rotation = Quaternion(-0.516857, 0.0361376, -0.0601189, 0.853193)
bones/86/rotation = Quaternion(0.869819, 0.209347, 0.0568589, 0.44312)
bones/87/rotation = Quaternion(-0.102148, -0.00144383, -0.00518081, 0.994755)

[node name="Head" parent="Root/Skeleton3D" index="0"]
surface_material_override/0 = ExtResource("3_41uu4")

[node name="Arms" parent="Root/Skeleton3D" index="1"]
surface_material_override/1 = ExtResource("3_41uu4")

[node name="Legs" parent="Root/Skeleton3D" index="2"]
surface_material_override/0 = ExtResource("3_41uu4")

[node name="Torso" parent="Root/Skeleton3D" index="3"]
surface_material_override/0 = SubResource("StandardMaterial3D_ynsq6")

[node name="TorsoBone" parent="Root/Skeleton3D" index="4"]
transform = Transform3D(0.816608, 0.0645265, -0.573574, -0.572922, 0.211272, -0.791912, 0.0700808, 0.975295, 0.209495, 0.00454464, -0.0117964, 1.5383)

[node name="Torso" parent="Root/Skeleton3D/TorsoBone" index="0" groups=["player"]]

[node name="ArmUpperLeft" parent="Root/Skeleton3D" index="5"]
transform = Transform3D(0.70477, -0.257009, -0.661245, 0.0609941, -0.90667, 0.417409, -0.706809, -0.334509, -0.623318, 0.268607, -0.193807, 1.85216)

[node name="LeftArm" parent="Root/Skeleton3D/ArmUpperLeft" index="0" groups=["player"]]

[node name="ArmUpperRight" parent="Root/Skeleton3D" index="6"]
transform = Transform3D(0.695328, -0.695729, 0.180223, -0.675476, -0.546988, 0.494507, -0.245463, -0.46558, -0.850284, -0.290353, 0.130336, 1.91946)

[node name="RightArm" parent="Root/Skeleton3D/ArmUpperRight" index="0" groups=["player"]]

[node name="ArmLowerLeft" parent="Root/Skeleton3D" index="7"]
transform = Transform3D(0.286737, -0.528779, -0.798858, -0.820727, -0.565711, 0.0798684, -0.494156, 0.632743, -0.596193, 0.167443, -0.550691, 1.72049)

[node name="LeftArmLow" parent="Root/Skeleton3D/ArmLowerLeft" index="0" groups=["player"]]

[node name="ArmLowerRight" parent="Root/Skeleton3D" index="8"]
transform = Transform3D(0.877479, 0.479476, -0.0115045, 0.397936, -0.741224, -0.540587, -0.267726, 0.469775, -0.84121, -0.564207, -0.0849703, 1.7362)

[node name="RightArmLow" parent="Root/Skeleton3D/ArmLowerRight" index="0" groups=["player"]]

[node name="LegUpperLeft" parent="Root/Skeleton3D" index="9"]
transform = Transform3D(-0.956888, 0.207315, 0.203435, -0.284284, -0.524842, -0.802324, -0.059563, -0.825567, 0.561152, 0.174291, -0.14606, 1.45902)

[node name="LeftLeg" parent="Root/Skeleton3D/LegUpperLeft" index="0" groups=["player"]]

[node name="LegUpperRight" parent="Root/Skeleton3D" index="10"]
transform = Transform3D(-0.730357, -0.23553, -0.641174, 0.676731, -0.121962, -0.726058, 0.0928099, -0.964184, 0.248466, -0.168331, 0.0943195, 1.42962)

[node name="RightLeg" parent="Root/Skeleton3D/LegUpperRight" index="0" groups=["player"]]

[node name="LegLowerLeft" parent="Root/Skeleton3D" index="11"]
transform = Transform3D(-0.980772, -0.104719, 0.164685, -0.192107, 0.369362, -0.909212, 0.0343831, -0.923366, -0.382377, 0.346978, -0.583237, 0.771352)

[node name="LeftLegLow" parent="Root/Skeleton3D/LegLowerLeft" index="0" groups=["player"]]

[node name="LegLowerRight" parent="Root/Skeleton3D" index="12"]
transform = Transform3D(-0.690518, 0.412645, -0.594062, 0.68679, 0.631732, -0.35949, 0.226946, -0.65623, -0.719623, -0.36452, -0.00727084, 0.626485)

[node name="RightLegLow" parent="Root/Skeleton3D/LegLowerRight" index="0" groups=["player"]]

[node name="HeadBone" parent="Root/Skeleton3D" index="13"]
transform = Transform3D(0.934382, -0.296601, -0.197378, -0.262027, -0.196737, -0.944794, 0.241395, 0.934517, -0.261545, -0.0997318, -0.164266, 1.9709)

[node name="BoostTimer" type="Timer" parent="." index="5"]
one_shot = true

[node name="Head" type="Node3D" parent="." index="6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.047, 0)

[node name="Camera3D" type="Camera3D" parent="Head" index="0"]

[node name="Rifle" parent="Head/Camera3D" index="0" instance=ExtResource("5_cnrfd")]

[node name="Shotgun" parent="Head/Camera3D" index="1" instance=ExtResource("5_igan2")]
visible = false

[node name="HUD" parent="." index="7" instance=ExtResource("6_c4622")]

[connection signal="timeout" from="BoostTimer" to="." method="_on_boost_timer_timeout"]
[connection signal="reticle_feedback" from="Head/Camera3D/Rifle" to="HUD" method="_on_reticle_feedback"]
[connection signal="reticle_feedback" from="Head/Camera3D/Shotgun" to="HUD" method="_on_reticle_feedback"]
